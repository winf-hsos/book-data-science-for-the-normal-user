<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 6 Spalten auswählen mit select | Data Science für normale Anwender*innen</title>
  <meta name="description" content="Dieses Buch gibt eine Einführung in wichtige Themen bei der Arbeit mit Daten. Wie der Titel schon ahnen lässt, adressiert dieses Buch normale Anwender*innen. Damit meine ich Personen, die in ihrem beruflichen (oder privaten) Alltag von Kenntnissen in der Analyse von Daten (über Excel hinaus) profitieren, diese aber nicht deren Haupttätigkeit ist." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 6 Spalten auswählen mit select | Data Science für normale Anwender*innen" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://book-data-science-for-the-normal-user.netlify.app/" />
  
  <meta property="og:description" content="Dieses Buch gibt eine Einführung in wichtige Themen bei der Arbeit mit Daten. Wie der Titel schon ahnen lässt, adressiert dieses Buch normale Anwender*innen. Damit meine ich Personen, die in ihrem beruflichen (oder privaten) Alltag von Kenntnissen in der Analyse von Daten (über Excel hinaus) profitieren, diese aber nicht deren Haupttätigkeit ist." />
  <meta name="github-repo" content="winf-hsos/book-data-science-for-the-normal-user" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 6 Spalten auswählen mit select | Data Science für normale Anwender*innen" />
  
  <meta name="twitter:description" content="Dieses Buch gibt eine Einführung in wichtige Themen bei der Arbeit mit Daten. Wie der Titel schon ahnen lässt, adressiert dieses Buch normale Anwender*innen. Damit meine ich Personen, die in ihrem beruflichen (oder privaten) Alltag von Kenntnissen in der Analyse von Daten (über Excel hinaus) profitieren, diese aber nicht deren Haupttätigkeit ist." />
  

<meta name="author" content="Prof. Dr. Nicolas Meseth" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="der-explorative-analyseprozess.html"/>
<link rel="next" href="zeilen-filtern-mit-filter.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science mit R für den normalen Anwender</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Übersicht</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#zielgruppe"><i class="fa fa-check"></i>Zielgruppe</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#didaktisches-konzept"><i class="fa fa-check"></i>Didaktisches Konzept</a></li>
</ul></li>
<li class="part"><span><b>Erste Schritte mit R</b></span></li>
<li class="chapter" data-level="1" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html"><i class="fa fa-check"></i><b>1</b> Die Arbeitsumgebung</a>
<ul>
<li class="chapter" data-level="1.1" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html#r-installieren"><i class="fa fa-check"></i><b>1.1</b> R installieren</a></li>
<li class="chapter" data-level="1.2" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html#rstudio-installieren"><i class="fa fa-check"></i><b>1.2</b> RStudio installieren</a></li>
<li class="chapter" data-level="1.3" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html#überblick-über-rstudio"><i class="fa fa-check"></i><b>1.3</b> Überblick über RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html#der-skripteditor"><i class="fa fa-check"></i><b>1.3.1</b> Der Skripteditor</a></li>
<li class="chapter" data-level="1.3.2" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html#informationen-zur-aktuellen-r-umgebung"><i class="fa fa-check"></i><b>1.3.2</b> Informationen zur aktuellen R-Umgebung</a></li>
<li class="chapter" data-level="1.3.3" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html#konsole-und-terminal"><i class="fa fa-check"></i><b>1.3.3</b> Konsole und Terminal</a></li>
<li class="chapter" data-level="1.3.4" data-path="die-arbeitsumgebung.html"><a href="die-arbeitsumgebung.html#dateien-vorschau-und-plots"><i class="fa fa-check"></i><b>1.3.4</b> Dateien, Vorschau und Plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="einen-datensatz-laden.html"><a href="einen-datensatz-laden.html"><i class="fa fa-check"></i><b>2</b> Einen Datensatz laden</a>
<ul>
<li class="chapter" data-level="2.1" data-path="einen-datensatz-laden.html"><a href="einen-datensatz-laden.html#tabellarische-daten-in-r"><i class="fa fa-check"></i><b>2.1</b> Tabellarische Daten in R</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="einen-datensatz-laden.html"><a href="einen-datensatz-laden.html#der-dataframe"><i class="fa fa-check"></i><b>2.1.1</b> Der Dataframe</a></li>
<li class="chapter" data-level="2.1.2" data-path="einen-datensatz-laden.html"><a href="einen-datensatz-laden.html#tibbles"><i class="fa fa-check"></i><b>2.1.2</b> Tibbles</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="einen-datensatz-laden.html"><a href="einen-datensatz-laden.html#das-csv-format"><i class="fa fa-check"></i><b>2.2</b> Das CSV-Format</a></li>
<li class="chapter" data-level="2.3" data-path="einen-datensatz-laden.html"><a href="einen-datensatz-laden.html#csv-daten-laden"><i class="fa fa-check"></i><b>2.3</b> CSV-Daten laden</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html"><i class="fa fa-check"></i><b>3</b> Einen Datensatz erkunden</a>
<ul>
<li class="chapter" data-level="3.1" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#alle-daten-anzeigen"><i class="fa fa-check"></i><b>3.1</b> Alle Daten anzeigen</a></li>
<li class="chapter" data-level="3.2" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#spaltennamen-ermitteln"><i class="fa fa-check"></i><b>3.2</b> Spaltenamen ermitteln</a></li>
<li class="chapter" data-level="3.3" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#schnelle-übersicht-der-spalten-datentypen-und-werte"><i class="fa fa-check"></i><b>3.3</b> Schnelle Übersicht der Spalten, Datentypen und Werte</a></li>
<li class="chapter" data-level="3.4" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#anzahl-spalten-zeilen"><i class="fa fa-check"></i><b>3.4</b> Anzahl Spalten und Zeilen ermitteln</a></li>
<li class="chapter" data-level="3.5" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#wertebereich-von-spalten-bestimmen"><i class="fa fa-check"></i><b>3.5</b> Wertebereich von Spalten bestimmen</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#wertebereich-nominalskaliert"><i class="fa fa-check"></i><b>3.5.1</b> Nominalskalierte Spalten</a></li>
<li class="chapter" data-level="3.5.2" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#wertebereich-intervallskaliert"><i class="fa fa-check"></i><b>3.5.2</b> Intervallskalierte Spalten</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="einen-datensatz-erkunden.html"><a href="einen-datensatz-erkunden.html#erste-oder-letzte-zeilen-anzeigen"><i class="fa fa-check"></i><b>3.6</b> Erste oder letzte Zeilen anzeigen</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="der-werkzeugkasten.html"><a href="der-werkzeugkasten.html"><i class="fa fa-check"></i><b>4</b> Der Werkzeugkasten</a>
<ul>
<li class="chapter" data-level="4.1" data-path="der-werkzeugkasten.html"><a href="der-werkzeugkasten.html#das-paket-tibble"><i class="fa fa-check"></i><b>4.1</b> Das Paket <code>tibble</code></a></li>
<li class="chapter" data-level="4.2" data-path="der-werkzeugkasten.html"><a href="der-werkzeugkasten.html#das-paket-readr"><i class="fa fa-check"></i><b>4.2</b> Das Paket <code>readr</code></a></li>
<li class="chapter" data-level="4.3" data-path="der-werkzeugkasten.html"><a href="der-werkzeugkasten.html#das-paket-dplyr"><i class="fa fa-check"></i><b>4.3</b> Das Paket <code>dplyr</code></a></li>
<li class="chapter" data-level="4.4" data-path="der-werkzeugkasten.html"><a href="der-werkzeugkasten.html#das-paket-ggplot2"><i class="fa fa-check"></i><b>4.4</b> Das Paket <code>ggplot2</code></a></li>
</ul></li>
<li class="part"><span><b>Explorative Datenanalyse mit R</b></span></li>
<li class="chapter" data-level="5" data-path="der-explorative-analyseprozess.html"><a href="der-explorative-analyseprozess.html"><i class="fa fa-check"></i><b>5</b> Der explorative Analyseprozess</a>
<ul>
<li class="chapter" data-level="5.1" data-path="der-explorative-analyseprozess.html"><a href="der-explorative-analyseprozess.html#daten-laden"><i class="fa fa-check"></i><b>5.1</b> Daten laden</a></li>
<li class="chapter" data-level="5.2" data-path="der-explorative-analyseprozess.html"><a href="der-explorative-analyseprozess.html#daten-transformieren"><i class="fa fa-check"></i><b>5.2</b> Daten transformieren</a></li>
<li class="chapter" data-level="5.3" data-path="der-explorative-analyseprozess.html"><a href="der-explorative-analyseprozess.html#daten-visualisieren"><i class="fa fa-check"></i><b>5.3</b> Daten visualisieren</a></li>
<li class="chapter" data-level="5.4" data-path="der-explorative-analyseprozess.html"><a href="der-explorative-analyseprozess.html#literatur"><i class="fa fa-check"></i><b>5.4</b> Literatur</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="der-explorative-analyseprozess.html"><a href="der-explorative-analyseprozess.html#bücher"><i class="fa fa-check"></i><b>5.4.1</b> Bücher</a></li>
<li class="chapter" data-level="5.4.2" data-path="der-explorative-analyseprozess.html"><a href="der-explorative-analyseprozess.html#online-dokumentationen"><i class="fa fa-check"></i><b>5.4.2</b> Online-Dokumentationen</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html"><i class="fa fa-check"></i><b>6</b> Spalten auswählen mit <code>select</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html#beispieldaten-pokémon"><i class="fa fa-check"></i><b>6.1</b> Beispieldaten: Pokémon</a></li>
<li class="chapter" data-level="6.2" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html#bestimmte-spalten-nach-namen-auswählen"><i class="fa fa-check"></i><b>6.2</b> Bestimmte Spalten nach Namen auswählen</a></li>
<li class="chapter" data-level="6.3" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html#minus-operator"><i class="fa fa-check"></i><b>6.3</b> Spalten aus der Auswahl ausschließen</a></li>
<li class="chapter" data-level="6.4" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html#die-letzte-oder-n-letzten-spalten-auswählen"><i class="fa fa-check"></i><b>6.4</b> Die letzte oder n-letzten Spalten auswählen</a></li>
<li class="chapter" data-level="6.5" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html#spalten-nach-datentyp-selektieren"><i class="fa fa-check"></i><b>6.5</b> Spalten nach Datentyp selektieren</a></li>
<li class="chapter" data-level="6.6" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html#spaltenmengen-definieren-und-selektieren"><i class="fa fa-check"></i><b>6.6</b> Spaltenmengen definieren und selektieren</a></li>
<li class="chapter" data-level="6.7" data-path="spalten-auswählen-mit-select.html"><a href="spalten-auswählen-mit-select.html#weitere-online-quellen"><i class="fa fa-check"></i><b>6.7</b> Weitere Online-Quellen</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="zeilen-filtern-mit-filter.html"><a href="zeilen-filtern-mit-filter.html"><i class="fa fa-check"></i><b>7</b> Zeilen filtern mit <code>filter</code></a>
<ul>
<li class="chapter" data-level="7.1" data-path="zeilen-filtern-mit-filter.html"><a href="zeilen-filtern-mit-filter.html#filtern-von-alphanumerischen-werten-zeichenketten"><i class="fa fa-check"></i><b>7.1</b> Filtern von alphanumerischen Werten (Zeichenketten)</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="zeilen-filtern-mit-filter.html"><a href="zeilen-filtern-mit-filter.html#filtern-auf-gleichheit"><i class="fa fa-check"></i><b>7.1.1</b> Filtern auf Gleichheit</a></li>
<li class="chapter" data-level="7.1.2" data-path="zeilen-filtern-mit-filter.html"><a href="zeilen-filtern-mit-filter.html#filtern-über-eine-liste-von-werten"><i class="fa fa-check"></i><b>7.1.2</b> Filtern über eine Liste von Werten</a></li>
<li class="chapter" data-level="7.1.3" data-path="zeilen-filtern-mit-filter.html"><a href="zeilen-filtern-mit-filter.html#suchen-nach-dem-vorkommen-eines-wertes-in-einem-string"><i class="fa fa-check"></i><b>7.1.3</b> Suchen nach dem Vorkommen eines Wertes in einem String</a></li>
<li class="chapter" data-level="7.1.4" data-path="zeilen-filtern-mit-filter.html"><a href="zeilen-filtern-mit-filter.html#suchen-nach-mustern-in-einem-string"><i class="fa fa-check"></i><b>7.1.4</b> Suchen nach Mustern in einem String</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Fallstudien</b></span></li>
<li class="chapter" data-level="8" data-path="fallstudie-orangenlimonade.html"><a href="fallstudie-orangenlimonade.html"><i class="fa fa-check"></i><b>8</b> Fallstudie Orangenlimonade</a>
<ul>
<li class="chapter" data-level="8.1" data-path="fallstudie-orangenlimonade.html"><a href="fallstudie-orangenlimonade.html#einführung"><i class="fa fa-check"></i><b>8.1</b> Einführung</a></li>
<li class="chapter" data-level="8.2" data-path="fallstudie-orangenlimonade.html"><a href="fallstudie-orangenlimonade.html#datensatz-laden"><i class="fa fa-check"></i><b>8.2</b> Datensatz laden</a></li>
<li class="chapter" data-level="8.3" data-path="fallstudie-orangenlimonade.html"><a href="fallstudie-orangenlimonade.html#datensatz-erkunden"><i class="fa fa-check"></i><b>8.3</b> Datensatz erkunden</a></li>
<li class="chapter" data-level="8.4" data-path="fallstudie-orangenlimonade.html"><a href="fallstudie-orangenlimonade.html#ungültige-daten-entfernen"><i class="fa fa-check"></i><b>8.4</b> Ungültige Daten entfernen</a></li>
</ul></li>
<li class="part"><span><b>Anhang</b></span></li>
<li class="chapter" data-level="" data-path="datensaetze.html"><a href="datensaetze.html"><i class="fa fa-check"></i>Datensätze</a></li>
<li class="chapter" data-level="" data-path="literaturverzeichnis.html"><a href="literaturverzeichnis.html"><i class="fa fa-check"></i>Literaturverzeichnis</a></li>
<li class="divider"></li>
<li><a href="https://github.com/winf-hsos/intro_to_data_science_with_r_for_the_normal_user" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science für normale Anwender*innen</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="spalten-auswählen-mit-select" class="section level1" number="6">
<h1><span class="header-section-number">Kapitel 6</span> Spalten auswählen mit <code>select</code></h1>
<div id="tldr-3" class="section level2 unlisted unnumbered">
<h2>TL;DR</h2>
<ul>
<li>Mit dem <code>select</code> Befehl können wir aus allen Spalten einer Tabelle eine Untermenge auswählen.</li>
<li>Neben einer Liste von gewünschten Spaltennamen können wir die Untermenge auch über den Ausschluss von nicht gewollten Spalten eingrenzen. Dafür verwenden wir das Zeichen <code>-</code> vor dem Spaltennamen.</li>
<li>Mit der Funktion <code>last_col()</code> können wir die letzte oder die n-letzte Spalte auswählen</li>
<li>Mit dem Semikolon können wir Spaltenbereiche auswählen und so beispielsweise alle Spalten von der 5. bis zur vorletzten selektieren (<code>select(5 : last_col(2))</code>).</li>
<li>Wir können Spalten anhand ihres Datentyps selektieren (<code>is.numeric</code>, <code>is.character</code>, etc.).</li>
<li>Wir können Spalten über die Zugehörigkeit zu einer Liste selektieren (<code>all_of</code>, <code>any_of</code>).</li>
</ul>
</div>
<div id="beispieldaten-pokémon" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Beispieldaten: Pokémon</h2>
<p>Es ist ratsam die verfügbaren Spalten eines Datensatzes zu kennen, bevor wir uns mit einigen Beispielen beschäftigen, wie wir Bestimmte davon auswählen können. Für dieses Kapitel verwenden wir den <a href="https://www.kaggle.com/rounakbanik/pokemon/version/1">Pokémon-Datensatz</a>, der auf <a href="https://kaggle.com/">Kaggle.com</a> bereitgestellt wird.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="spalten-auswählen-mit-select.html#cb40-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;datasets/pokemon.csv&quot;</span>)</span></code></pre></div>
<p>Nach dem Laden des Datensatzes lassen wir uns mit <code>colnames()</code> die Spalten anzeigen:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="spalten-auswählen-mit-select.html#cb41-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;abilities&quot;         &quot;against_bug&quot;       &quot;against_dark&quot;     
##  [4] &quot;against_dragon&quot;    &quot;against_electric&quot;  &quot;against_fairy&quot;    
##  [7] &quot;against_fight&quot;     &quot;against_fire&quot;      &quot;against_flying&quot;   
## [10] &quot;against_ghost&quot;     &quot;against_grass&quot;     &quot;against_ground&quot;   
## [13] &quot;against_ice&quot;       &quot;against_normal&quot;    &quot;against_poison&quot;   
## [16] &quot;against_psychic&quot;   &quot;against_rock&quot;      &quot;against_steel&quot;    
## [19] &quot;against_water&quot;     &quot;attack&quot;            &quot;base_egg_steps&quot;   
## [22] &quot;base_happiness&quot;    &quot;base_total&quot;        &quot;capture_rate&quot;     
## [25] &quot;classfication&quot;     &quot;defense&quot;           &quot;experience_growth&quot;
## [28] &quot;height_m&quot;          &quot;hp&quot;                &quot;japanese_name&quot;    
## [31] &quot;name&quot;              &quot;percentage_male&quot;   &quot;pokedex_number&quot;   
## [34] &quot;sp_attack&quot;         &quot;sp_defense&quot;        &quot;speed&quot;            
## [37] &quot;type1&quot;             &quot;type2&quot;             &quot;weight_kg&quot;        
## [40] &quot;generation&quot;        &quot;is_legendary&quot;</code></pre>
<p>Das sind mehr als 40 Spalten. Wie viele genau?</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="spalten-auswählen-mit-select.html#cb43-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span> <span class="fu">dim</span>()</span></code></pre></div>
<pre><code>## [1] 801  41</code></pre>
<p>Oder mit <code>ncol()</code>:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="spalten-auswählen-mit-select.html#cb45-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span> <span class="fu">ncol</span>()</span></code></pre></div>
<pre><code>## [1] 41</code></pre>
<p>Es sind also 41 Spalten. Genug um die wichtigsten Funktionen für das Auswählen von Spalten zu zeigen.</p>
</div>
<div id="bestimmte-spalten-nach-namen-auswählen" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Bestimmte Spalten nach Namen auswählen</h2>
<p>Die Funktion <code>select</code> verwenden wir für das Auswählen einer Untermenge an Spalten. Wir können im einfachsten Fall einfach die gewünschten Spalten mit Kommata getrennt auflisten:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="spalten-auswählen-mit-select.html#cb47-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="spalten-auswählen-mit-select.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, type1)</span></code></pre></div>
<pre><code>## # A tibble: 801 x 2
##    name       type1
##    &lt;chr&gt;      &lt;chr&gt;
##  1 Bulbasaur  grass
##  2 Ivysaur    grass
##  3 Venusaur   grass
##  4 Charmander fire 
##  5 Charmeleon fire 
##  6 Charizard  fire 
##  7 Squirtle   water
##  8 Wartortle  water
##  9 Blastoise  water
## 10 Caterpie   bug  
## # ... with 791 more rows</code></pre>
<p>Dabei können wir beliebig viele Spalten in die Liste aufnehmen:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="spalten-auswählen-mit-select.html#cb49-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="spalten-auswählen-mit-select.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, type1, type2, is_legendary)</span></code></pre></div>
<pre><code>## # A tibble: 801 x 4
##    name       type1 type2  is_legendary
##    &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;
##  1 Bulbasaur  grass poison            0
##  2 Ivysaur    grass poison            0
##  3 Venusaur   grass poison            0
##  4 Charmander fire  &lt;NA&gt;              0
##  5 Charmeleon fire  &lt;NA&gt;              0
##  6 Charizard  fire  flying            0
##  7 Squirtle   water &lt;NA&gt;              0
##  8 Wartortle  water &lt;NA&gt;              0
##  9 Blastoise  water &lt;NA&gt;              0
## 10 Caterpie   bug   &lt;NA&gt;              0
## # ... with 791 more rows</code></pre>
</div>
<div id="minus-operator" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Spalten aus der Auswahl ausschließen</h2>
<p>Wollen wir fast alle verfügbaren Spalten auswählen, so ist es effizienter, die Spalten zu nennen, die wir ausschließen wollen. Das können wir mit dem Minus-Symbol erreichen:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="spalten-auswählen-mit-select.html#cb51-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="spalten-auswählen-mit-select.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>is_legendary)</span></code></pre></div>
</div>
<div id="die-letzte-oder-n-letzten-spalten-auswählen" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Die letzte oder n-letzten Spalten auswählen</h2>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="spalten-auswählen-mit-select.html#cb52-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="spalten-auswählen-mit-select.html#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">last_col</span>())</span></code></pre></div>
<pre><code>## # A tibble: 801 x 1
##    is_legendary
##           &lt;dbl&gt;
##  1            0
##  2            0
##  3            0
##  4            0
##  5            0
##  6            0
##  7            0
##  8            0
##  9            0
## 10            0
## # ... with 791 more rows</code></pre>
</div>
<div id="spalten-nach-datentyp-selektieren" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Spalten nach Datentyp selektieren</h2>
<p>Manchmal möchten wir Spalten nach ihrem Datentyp auswählen. Für die Prüfung, ob eine Spalte oder ein Wert einem bestimmten Datentyp entspricht, gibt es Funktionen in R:</p>
<ul>
<li><code>is.numeric</code> prüft, ob eine Spalte oder ein Wert numerisch ist.</li>
<li><code>is.character</code> prüft, ob es sich um eine alphanumerische Spalte handelt (Zeichenketten oder Strings).</li>
<li><code>is.logical</code> prüft, ob es sich um eine Spalte mit Wahrheitswerten handelt (Bool’scher Datentyp).</li>
<li><code>is.factor</code> prüft, ob es sich bei einer Spalte um einen Faktor mit einer fest definierten Anzahl von Ausprägungen handelt.</li>
</ul>
<p>Um beispielsweise alle numersichen Spalten im Pokémon-Datensatz auszuwählen, können wir den folgenden Aufruf verwenden:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="spalten-auswählen-mit-select.html#cb54-1" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="spalten-auswählen-mit-select.html#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code></pre></div>
<pre><code>## # A tibble: 801 x 34
##    against_bug against_dark against_dragon against_electric against_fairy
##          &lt;dbl&gt;        &lt;dbl&gt;          &lt;dbl&gt;            &lt;dbl&gt;         &lt;dbl&gt;
##  1        1               1              1              0.5           0.5
##  2        1               1              1              0.5           0.5
##  3        1               1              1              0.5           0.5
##  4        0.5             1              1              1             0.5
##  5        0.5             1              1              1             0.5
##  6        0.25            1              1              2             0.5
##  7        1               1              1              2             1  
##  8        1               1              1              2             1  
##  9        1               1              1              2             1  
## 10        1               1              1              1             1  
## # ... with 791 more rows, and 29 more variables: against_fight &lt;dbl&gt;,
## #   against_fire &lt;dbl&gt;, against_flying &lt;dbl&gt;, against_ghost &lt;dbl&gt;,
## #   against_grass &lt;dbl&gt;, against_ground &lt;dbl&gt;, against_ice &lt;dbl&gt;,
## #   against_normal &lt;dbl&gt;, against_poison &lt;dbl&gt;, against_psychic &lt;dbl&gt;,
## #   against_rock &lt;dbl&gt;, against_steel &lt;dbl&gt;, against_water &lt;dbl&gt;, attack &lt;dbl&gt;,
## #   base_egg_steps &lt;dbl&gt;, base_happiness &lt;dbl&gt;, base_total &lt;dbl&gt;,
## #   defense &lt;dbl&gt;, experience_growth &lt;dbl&gt;, height_m &lt;dbl&gt;, hp &lt;dbl&gt;, ...</code></pre>
<p>Der <code>where</code> Funktion können wir eine Funktion übergeben, die in Bezug auf eine Spalte wahr oder falsch zurückliefert.</p>
<p>Leider existiert keine Standardfunktion, um Spalten auf den Datentyp <code>date</code> zu prüfen. Wir können uns diese aber einfach selbst schreiben:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="spalten-auswählen-mit-select.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion, um Datumsspalten zu erkennen</span></span>
<span id="cb56-2"><a href="spalten-auswählen-mit-select.html#cb56-2" aria-hidden="true" tabindex="-1"></a>is.date <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb56-3"><a href="spalten-auswählen-mit-select.html#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inherits</span>(x, <span class="fu">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;POSIXt&quot;</span>))</span>
<span id="cb56-4"><a href="spalten-auswählen-mit-select.html#cb56-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb56-5"><a href="spalten-auswählen-mit-select.html#cb56-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-6"><a href="spalten-auswählen-mit-select.html#cb56-6" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span> </span>
<span id="cb56-7"><a href="spalten-auswählen-mit-select.html#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.date))</span></code></pre></div>
<pre><code>## # A tibble: 801 x 0</code></pre>
<p>Für den Pokémon-Datensatz ist das Ergebnis leer, das heißt es existiert keine Spalte vom Typ Datum.</p>
</div>
<div id="spaltenmengen-definieren-und-selektieren" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> Spaltenmengen definieren und selektieren</h2>
<p>Häufig benötigt man in unterschiedlichen Abfragen die gleichen Spalten. Um nicht jedes Mal die gesamte Liste aufführen zu müssen, können wir in diesem Fall einen Vektor definieren, der die Namen der Spalten enthält. Mit der <code>all_of</code> Funktion können wir dann alle Spalten in diesem Vektor auswählen:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="spalten-auswählen-mit-select.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstellen eines Vektors mit gewünschten Spaltennamen</span></span>
<span id="cb58-2"><a href="spalten-auswählen-mit-select.html#cb58-2" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;type1&quot;</span>, <span class="st">&quot;type2&quot;</span>)</span>
<span id="cb58-3"><a href="spalten-auswählen-mit-select.html#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="spalten-auswählen-mit-select.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Selektieren auf Basis dieser Menge</span></span>
<span id="cb58-5"><a href="spalten-auswählen-mit-select.html#cb58-5" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span></span>
<span id="cb58-6"><a href="spalten-auswählen-mit-select.html#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(vars))</span></code></pre></div>
<pre><code>## # A tibble: 801 x 3
##    name       type1 type2 
##    &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; 
##  1 Bulbasaur  grass poison
##  2 Ivysaur    grass poison
##  3 Venusaur   grass poison
##  4 Charmander fire  &lt;NA&gt;  
##  5 Charmeleon fire  &lt;NA&gt;  
...  6  Zeilen sind ausgeblendet.</code></pre>
<p>Wir können bei Bedarf auch einzelne Elemente der Menge über den <a href="spalten-auswählen-mit-select.html#minus-operator">Minus-Operator</a> ausschließen:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="spalten-auswählen-mit-select.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selektieren auf Basis dieser Menge, aber ohne &quot;type2&quot;</span></span>
<span id="cb60-2"><a href="spalten-auswählen-mit-select.html#cb60-2" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="spalten-auswählen-mit-select.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(vars), <span class="sc">-</span>type2)</span></code></pre></div>
<pre><code>## # A tibble: 801 x 2
##    name       type1
##    &lt;chr&gt;      &lt;chr&gt;
##  1 Bulbasaur  grass
##  2 Ivysaur    grass
##  3 Venusaur   grass
##  4 Charmander fire 
##  5 Charmeleon fire 
...  6  Zeilen sind ausgeblendet.</code></pre>
<p>Mit <code>any_of</code> können wir auch Spalten im Vektor aufnehmen, die nicht existieren. Es werden dann alle Spalten selektiert, die in der Liste vorkommen und auch tatsächlich im Tibble vorhanden sind. So können wir einen Vektor erstellen, der Spaltennamen aus unterschiedlichen Datensätzen beinhaltet:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="spalten-auswählen-mit-select.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstellen eines Vektors mit gewünschten Spaltennamen, &quot;type3&quot; existiert nicht im Tibble</span></span>
<span id="cb62-2"><a href="spalten-auswählen-mit-select.html#cb62-2" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;type1&quot;</span>, <span class="st">&quot;type2&quot;</span>, <span class="st">&quot;type3&quot;</span>)</span>
<span id="cb62-3"><a href="spalten-auswählen-mit-select.html#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="spalten-auswählen-mit-select.html#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Selektieren auf Basis dieser Menge, &quot;type3&quot; ist jedoch nicht vorhanden</span></span>
<span id="cb62-5"><a href="spalten-auswählen-mit-select.html#cb62-5" aria-hidden="true" tabindex="-1"></a>pokemon <span class="sc">%&gt;%</span></span>
<span id="cb62-6"><a href="spalten-auswählen-mit-select.html#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">any_of</span>(vars))</span></code></pre></div>
<pre><code>## # A tibble: 801 x 3
##    name       type1 type2 
##    &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; 
##  1 Bulbasaur  grass poison
##  2 Ivysaur    grass poison
##  3 Venusaur   grass poison
##  4 Charmander fire  &lt;NA&gt;  
##  5 Charmeleon fire  &lt;NA&gt;  
...  6  Zeilen sind ausgeblendet.</code></pre>
</div>
<div id="weitere-online-quellen" class="section level2" number="6.7">
<h2><span class="header-section-number">6.7</span> Weitere Online-Quellen</h2>
<ul>
<li><a href="https://dplyr.tidyverse.org/reference/select.html">Offizielle Dokumentation des <code>select</code> Befehls im Tidyverse</a>.</li>
<li><a href="https://r4ds.had.co.nz/transform.html#select">Kapitel 5.4</a> aus <span class="citation"><a href="#ref-wickham_r_2016" role="doc-biblioref">Wickham and Grolemund</a> (<a href="#ref-wickham_r_2016" role="doc-biblioref">2016</a>)</span></li>
</ul>
<hr>

</div>
</div>
<h3>Literaturverzeichnis</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-wickham_r_2016" class="csl-entry">
Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. First edition. Sebastopol, CA: O’Reilly.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="der-explorative-analyseprozess.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="zeilen-filtern-mit-filter.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/winf-hsos/intro_to_data_science_with_r_for_the_normal_user/edit/BRANCH/2_spalten-auswaehlen.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
